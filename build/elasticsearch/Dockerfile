FROM docker.elastic.co/elasticsearch/elasticsearch:7.11.1

ARG  ELASTIC_PASSWORD
ARG  LOGSTASH_PASSWORD

COPY ./elasticsearch.yml /usr/share/elasticsearch/elasticsearch.yml

ENV ELASTIC_PASSWORD ${ELASTIC_PASSWORD}
ENV KIBANA_SYSTEM_PASSWORD ${ELASTIC_PASSWORD}
ENV APM_SYSTEM_PASSWORD ${ELASTIC_PASSWORD}
ENV REMOTE_MONITORING_USER_PASSWORD ${ELASTIC_PASSWORD}

ENV LOGSTASH_SYSTEM_PASSWORD ${LOGSTASH_PASSWORD}
ENV BEATS_SYSTEM_PASSWORD ${LOGSTASH_PASSWORD}